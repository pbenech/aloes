{% extends 'IfeAloesBundle:Aloes:layout.html.twig' %}

{% block content -%}
    <div class='title-one'> Liste des utilisateurs </div>

	   	 
	<fieldset>
		<div  class="col-sm-9 col-xs-12">	
			<form class="form-inline" action="{{ path('resp_utilisateurs', { 'page' : page, 'sort' : sort, 'direction' : direction  }) }}" method="post">	
				<div  class="col-sm-4  col-xs-12">	
					{{ form_widget(form.search) }}
				</div>				   			
				{{ form_rest(form) }}	
				<div  class="col-sm-4  col-xs-12">	
					<button type="submit" class="btn  btn-button-cancel ">Ok</button>
				</div>
			</form>
		</div>			
		
					
		<div  class="col-sm-3 col-xs-12">	
		      <a href="{{ path('resp_utilisateurs_add_ldap', { 'page' : page, 'sort' : sort, 'direction' : direction  } ) }}">
		      	<i class="icon-plus"></i> Ajouter un utilisateur LDAP
		      </a><br/>
		      <a href="{{ path('resp_utilisateurs_add_user', { 'page' : page, 'sort' : sort, 'direction' : direction  } ) }}">
		      	<i class="icon-plus"></i> Ajouter un utilisateur 
		      </a>
		</div>				 
		    
	</fieldset>							

	<fieldset>

    <table class="table">
        <thead>
            <th width='15%'>{{ knp_pagination_sortable(pagination, 'Nom', 'sn') }}<span class="glyphicon glyphicon-sort" style="color:#23527c;font-size: 0.6em;"></span></th>
            <th width='15%'>{{ knp_pagination_sortable(pagination, 'Pr√©nom', 'givenname') }}<span class="glyphicon glyphicon-sort" style="color:#23527c;font-size: 0.6em;"></span></th>
            <th width='25%'>{{ knp_pagination_sortable(pagination, 'Courriel', 'email') }}<span class="glyphicon glyphicon-sort" style="color:#23527c;font-size: 0.6em;"></span></th>        
            <th width='15%' style="text-align:center"> Administrateur </th> 
            <th width='15%' style="text-align:center"> Responsable de formation </th>  
            <th width='15%' style="text-align:center"> Enseignant </th>  
  
            <th width='10%' style="text-align:center"> Consulter</th>
            <th width='10%' style="text-align:center"> Modifier</th> 
            <th width='10%' style="text-align:center"> Supprimer</th>            
   
        </thead>
        <tbody>
        
		{% for entity in pagination %}
            <tr>
                <td> 
	            	{{ entity.sn}} 
                </td>
                <td> 
                	{{ entity.givenname }}                  
                </td>
                <td> 
                	{{ entity.email }}          
                </td>         
                <td style="text-align:center"> 
                	{{ entity.ROLE_ADMIN}}                	 	                  
                </td>    
                <td style="text-align:center"> 
                	{{ entity.ROLE_RESPONSABLE}}                        	 	                  
                </td>  
                <td style="text-align:center"> 
                	{{ entity.ROLE_ENSEIGNANT}}                         	 	                  
                </td>  
                <td style="text-align:center">  
			    	<a href="{{ path('resp_utilisateurs_showuser', { 'id': entity.id, 'page' : page, 'sort' : sort, 'direction' : direction  }) }}">
			        	<span class="glyphicon glyphicon-eye-open"></span>
			   		</a>     	 	                  
                </td>                  

                <td style="text-align:center">  
			    	<a href="{{ path('resp_utilisateurs_updateuser', { 'id': entity.id, 'page' : page, 'sort' : sort, 'direction' : direction  }) }}">
			        	<span class="glyphicon glyphicon-edit"></span>
			   		</a>     	 	                  
                </td>  

                <td style="text-align:center">  
			    	<a href="{{ path('resp_utilisateurs_deleteuser', { 'id': entity.id, 'page' : page, 'sort' : sort, 'direction' : direction  }) }}">
			        	<span class="glyphicon glyphicon-remove"></span> 
			   		</a>     	 	                  
                </td>                  
   

            </tr>		
		{% endfor %}
		
        </tbody>
    </table>
    
	</fieldset>    

	<center>
	{{ knp_pagination_render(pagination) }}
	</center>
	          
    
{% endblock %} 


    

